<!DOCTYPE html>


<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Neko Atsume: King House Kitties</title>
    <link rel="stylesheet" href="../styles/main.css" type="text/css">
</head>
<body>
    <!-- Tell the browser what to show if JavaScript/TypeScript is disabled. -->
    <noscript>This example requires JavaScript to run.</noscript>
    <!-- ugliest least modular code ever written -->


<script>
var itemClickable = false;
var itemArray = [0,0,0,0];
var toy = '';

function toyClick(ele) {
      const element = document.getElementsByClassName("item");
      //Array.from(element).forEach((a) => { 
        //if(a instanceof HTMLElement){
          //a.classList.add('illuminate');
        //}})
        toy = ele.id;
        console.log(toy);
        itemClickable = true;
};

function itemClick(ele) {
    if(itemClickable){
        var num = Number(toy)
        console.log(num);
        updateToys(num, ele)
        itemClickable = false;
      }
      else{
        num = 0;
        updateToys(0, ele);
      }   
      const element = document.getElementsByClassName("item");
      Array.from(element).forEach((a) => { 
        if(a instanceof HTMLElement){
          //a.classList.remove('illuminate');
    }}) 
}


var stableNames = ['none', 'alligator', 'bingus', 'bondagefish', 'book', 'dumbell', 'laptop', 'monster', 'tea']

function updateToy(numItem){
  var num = numItem.valueOf()
  var updateStr = 'Assets/toys/' + stableNames[num] + '.png'
  return updateStr;
}


function updateToys(num, current){
  itemArray= JSON.parse(localStorage.array);
  var str = updateToy(num);
  current.setAttribute('src', str);
  console.log(current.id);
  if(current.id == "itemOne"){
    itemArray[0] = num;
    current.classList.add("itemOne");
  }
  if(current.id == "itemTwo"){
    itemArray[1] = num;
    current.classList.add("itemTwo");
  }
  if(current.id == "itemThree"){
    itemArray[2] = num;
    current.classList.add("itemThree");
  }
  if(current.id == "itemFour"){
    itemArray[3] = num;
    current.classList.add("itemFour");
  }
  localStorage.array = JSON.stringify(itemArray);
  console.log(localStorage.array);
}


</script>

    <div class = "titles">
        <div class = "game-title"> 
            <IMG width=600 alt="it's da lounge..." src="Assets/mainbanner.png"> <!--TODO: stretch -->
        </div>
        <div class = "room-title"> <IMG width =600 alt = "it's da lounge..." src="Assets/loungebanner.png"> </div>

    </div>
    <div class="room">
      <!-- The Modal -->
      <div id="menuModal" class="modal">
      <!-- Modal content -->
          <div class="modal-content">
            <div class="modal-header">
              <span class="close">&times;</span>
              <h2>Kitty Dictionary</h2>
            </div>
            <div class="modal-body">
              <table>
                <tr>
                  <td><IMG width=100 title="Catherine" id = "CatherineDict" class = "dict" src="Assets/kitties/none.png"></td>
                  <td><IMG width=100 title="Catptain Jack" id = "Catptain JackDict" class = "dict" src="Assets/kitties/none.png"></td>
                  <td><IMG width=100 title="Kitlyn" id = "KitlynDict" class = "dict" src="Assets/kitties/none.png"></td>
                  <td><IMG width=100 title="Rrrachel" id = "RrrachelDict" class = "dict" src="Assets/kitties/none.png"></td>
                </tr>
                <tr>
                  <td><IMG width=100 title="F-El-ine" id = "F-El-ineDict" class = "dict" src="Assets/kitties/none.png"></td>
                  <td><IMG width=100 title="Celia (Celia)" id = "Celia (Celia)Dict" class = "dict" src="Assets/kitties/none.png"></td>
                  <td><IMG width=100 title="Remew" id = "RemewDict" class = "dict" src="Assets/kitties/none.png"></td>
                  <td><IMG width=100 title="Liznya" id = "LiznyaDict" class = "dict" src="Assets/kitties/none.png"></td>
                </tr>
                <tr>
                  <td><IMG width=100 title="Noah" id = "NoahDict" class = "dict" src="Assets/kitties/none.png"></td>
                  <td><IMG width=100 title="Nickitty" id = "NickittyDict" class = "dict" src="Assets/kitties/none.png"></td>
                  <td><IMG width=100 title="Gabby Tabby" id = "Gabby TabbyDict" class = "dict" src="Assets/kitties/none.png"></td>
                  <td><IMG width=100 title="Ameh" id = "AmehDict" class = "dict" src="Assets/kitties/none.png"></td>
                </tr>
                <tr>
                  <td><IMG width=100 title="Emmau" id = "EmmauDict" class = "dict" src="Assets/kitties/none.png"></td>
                  <td><IMG width=100 title="Cleocatra" id = "CleocatraDict" class = "dict" src="Assets/kitties/none.png"></td>
                </tr>
              </table>
            </div>
          </div>
        </div>
        <div class="room-region">   
            <IMG width=1200 alt="it's da lounge..." src="Assets/khat.png" class ="parent"> 
            <IMG width=100 alt="first kitty :)" id = "kittyOne" class = "kittyOne" src="Assets/kitties/none.png"> 
            <IMG width=100 alt="second kitty :D" id = "kittyTwo" class = "kittyTwo" src="Assets/kitties/none.png">
            <IMG width=100 alt="third kitty ^w^" id = "kittyThree" class = "kittyThree" src="Assets/kitties/none.png"> 
            <IMG width=100 alt="fourth kitty ;)" id = "kittyFour" class = "kittyFour" src="Assets/kitties/none.png"> 
            <IMG width=100 alt="first item" id = "itemOne" class = "item" onclick= itemClick(this) src="Assets/kitties/none.png">
            <IMG width=100 alt="second item" id = "itemTwo" class = "item"  onclick= itemClick(this) src="Assets/kitties/none.png">
            <IMG width=100 alt="third item" id = "itemThree" class = "item" onclick= itemClick(this) src="Assets/kitties/none.png">
            <IMG width=100 alt="fourth item" id = "itemFour" class = "item" onclick= itemClick(this) src="Assets/kitties/none.png">
        </div>
        <hr>
    </div>

    <div class="navigation-and-toys">
        <div class = "navigation">
            <a href = "dining-room.html"> Dining Room Link</a>
            <a href = "foyer.html"> Foyer Link</a>
        </div>
        <button class = "modal-button" id="modal-button">Dictionary</button>
        <div class = "toys">
            <h1> Toys </h1>
            <table style="width:100%">
                <tr>
                  <td><IMG width=100 alt="first toy :)" id = "1" class = "toy" onclick = toyClick(this) src="Assets/toys/alligator.png"></td>
                  <td><IMG width=100 alt="second toy :)" id = "2" class = "toy" onclick = toyClick(this)  src="Assets/toys/bingus.png"></td>
                  <td><IMG width=100 alt="third toy :)" id = "3" class = "toy" onclick = toyClick(this) src="Assets/toys/bondagefish.png"></td>
                  <td><IMG width=100 alt="fourth toy :)" id = "4" class = "toy" onclick = toyClick(this) src="Assets/toys/book.png"></td>
                </tr>
                <tr>
                  <td><IMG width=100 alt="fifth toy :)" id = "5" class = "toy" onclick = toyClick(this) src="Assets/toys/dumbell.png"></td>
                  <td><IMG width=100 alt="sixth toy :)" id = "6" class = "toy" onclick = toyClick(this) src="Assets/toys/laptop.png"></td>
                  <td><IMG width=100 alt="seventh toy :)" id = "7" class = "toy" onclick = toyClick(this) src="Assets/toys/monster.png"></td>
                  <td><IMG width=100 alt="eighth toy :)" id = "8" class = "toy"  onclick = toyClick(this) src="Assets/toys/tea.png"></td>
                </tr>
              </table>
        </div>
    </div>
    <!-- Load the script! Note: the .js extension is because browsers don't use TypeScript
    directly. Instead, the author of the site needs to compile the TypeScript to JavaScript. -->
    <script type=module src="../src/rooms.js"></script>
    <script type=module src="../src/modal.js"></script>
    <script type=module src="../src/toys.js"></script>
</body>
</html>